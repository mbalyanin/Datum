{% extends 'registration/base.html' %}
{% block title %}Profile - YourApp {% endblock %}

{% block content %}

        <form action="{% url 'process_profile' profile.id 'skip' %}" method="post">
            {% csrf_token %}
            <button id="fallButton" type="submit" class="btn_dis">
                <i class="fas fa-times"></i> ‚úã
            </button>
        </form>

        <form action="{% url 'process_profile' profile.id 'like' %}" method="post">
            {% csrf_token %}
            <button id="fallButtonLike" type="submit" class="btn_like">
                <i class="fas fa-heart"></i> üíù
            </button>
        </form>

<div class="reg-containerlike">

    <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –∞–Ω–∫–µ—Ç—ã -->
    <h4>{{ profile.name }}, {{ profile.age }}, {{ profile.city|default:"–ì–æ—Ä–æ–¥ –Ω–µ —É–∫–∞–∑–∞–Ω" }}</h4>
    {% if profile.avatar %}
    <img src="{{ profile.avatar.url }}" class="card-img-top profile-photo" style="max-width: 300px; max-height: 300px;">
    {% else %}
        <img src="/static/user/img/default_profile_pic.jpg" class="img-thumbnail mb-2" style="max-width: 300px; max-height: 300px;">
    {% endif %}

    <strong>–û —Å–µ–±–µ:</strong>
    <p>{{ profile.bio|default:"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –¥–æ–±–∞–≤–∏–ª –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é" }}</p>

    {% if profile.hobbies %}
    <strong>–ò–Ω—Ç–µ—Ä–µ—Å—ã:</strong>
    <p>{{ profile.hobbies }}</p>
    {% endif %}
</div>

<script>
    document.getElementById('fallButton').addEventListener('click', function(event) {
        event.preventDefault();  // –û—Ç–º–µ–Ω—è–µ–º –æ—Ç–ø—Ä–∞–≤–∫—É —Ñ–æ—Ä–º—ã

        const regContainer = document.querySelector('.reg-containerlike');
        regContainer.classList.add('fall-effect');

        // –ñ–¥–µ–º –æ–∫–æ–Ω—á–∞–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏, –∑–∞—Ç–µ–º –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ñ–æ—Ä–º—É
        setTimeout(() => {
            this.closest('form').submit();
        }, 500); // 500 –º—Å = –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏
    });
</script>

<script>
    document.getElementById('fallButtonLike').addEventListener('click', function(event) {
        event.preventDefault();  // –û—Ç–º–µ–Ω—è–µ–º –æ—Ç–ø—Ä–∞–≤–∫—É —Ñ–æ—Ä–º—ã

        const regContainer = document.querySelector('.reg-containerlike');
        regContainer.classList.add('fall-effectLike');

        // –ñ–¥–µ–º –æ–∫–æ–Ω—á–∞–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏, –∑–∞—Ç–µ–º –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ñ–æ—Ä–º—É
        setTimeout(() => {
            this.closest('form').submit();
        }, 500); // 500 –º—Å = –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏
    });
</script>

{% endblock %}